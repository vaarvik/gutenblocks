"use strict";function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,a=new Array(e);r<e;r++)a[r]=t[r];return a}!function(){function t(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t||(t=document);var e=t.querySelectorAll(".mt-repeater");e.forEach((function(t){var e=t.querySelector("#".concat(t.id,"-add-btn")),a=t.querySelector("#".concat(t.id,"-info"));console.log("#".concat(t.id,"-reference"));var n=t.querySelector("#".concat(t.id,"-reference"));a.value=a.dataset.startValue,e.addEventListener("click",(function(e){r(a,n,t)}))}))}function e(t,r){for(var a=t.children,n=0;n<a.length;n++)r(t,a[n]),a[n].children&&!a[n].classList.contains("mt-reference")&&e(a[n],(function(t,e){r(t,e)}))}function r(r,a,n){var o=JSON.parse(r.value),c=parseInt(Math.max.apply(Math,_toConsumableArray(o))+1),i=o.length+1,l=a.cloneNode(!0);(l.id="".concat(n.id,"_").concat(c),l.dataset.slug="".concat(n.id,"_").concat(c),l.dataset.itemId="".concat(c),l.dataset.itemKey="".concat(i),l.classList.remove("mt-reference"),e(l,(function(t,e){e.value="",e.classList.contains("mt-reference")?e.id="".concat(t.id,"-reference"):e.classList.contains("mt-repeater__item")?(e.id="".concat(t.id,"_0"),e.name="".concat(t.id,"_0")):e.classList.contains("mt-repeater__btn")?(e.id="".concat(t.id,"-").concat(e.dataset.slug),e.name="".concat(t.id,"-").concat(e.dataset.slug)):e.classList.contains("mt-repeater__info")?(e.id="".concat(t.id,"-").concat(e.dataset.slug),e.name="".concat(t.id),e.value="[0]"):e.classList.contains("mt-label")?e.htmlFor="".concat(t.id,"__").concat(e.dataset.slug):(e.id="".concat(t.id,"__").concat(e.dataset.slug),e.name="".concat(t.id,"__").concat(e.dataset.slug))})),l.querySelector(".mt-repeater"))&&l.querySelectorAll(".mt-repeater").forEach((function(e){t(l)}));var s,u,d=n.querySelector("#".concat(n.id,"_").concat(o[o.length-1]));u=l,(s=d).parentNode.insertBefore(u,s.nextSibling),o.push(c),r.value=JSON.stringify(o)}t()}();
"use strict";function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}!function(){function t(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t||(t=document);var e=t.querySelectorAll(".mt-repeater");e.forEach((function(t){console.log("#".concat(t.id,"-add-btn"));var e=t.querySelector("#".concat(t.id,"-add-btn")),n=t.querySelector("#".concat(t.id,"-info")),r=t.querySelector("#".concat(t.id,"-reference"));n.value=n.dataset.startValue,e.addEventListener("click",(function(e){a(n,r,t)}))}))}function e(t,a){for(var n=t.children,r=0;r<n.length;r++)a(t,n[r]),n[r].children&&!n[r].classList.contains("mt-reference")&&e(n[r],(function(t,e){a(t,e)}))}function a(a,n,r){var c=JSON.parse(a.value),o=parseInt(Math.max.apply(Math,_toConsumableArray(c))+1),i=c.length+1,s=n.cloneNode(!0);s.id="".concat(r.id,"_").concat(o),s.dataset.slug="".concat(r.id,"_").concat(o),s.dataset.itemId="".concat(o),s.dataset.itemKey="".concat(i),s.classList.remove("mt-reference"),e(s,(function(t,e){e.value="",e.classList.contains("mt-btn-group")||(e.classList.contains("mt-reference")?e.id="".concat(t.id,"-reference"):e.classList.contains("mt-repeater__item")?(e.id="".concat(t.id,"_0"),e.name="".concat(t.id,"_0")):e.classList.contains("mt-repeater__btn")?(e.id="".concat(t.id,"-").concat(e.dataset.slug),e.name="".concat(t.id,"-").concat(e.dataset.slug),t.classList.contains("mt-btn-group")&&(e.id="".concat(t.parentNode.id,"-").concat(e.dataset.slug),e.name="".concat(t.parentNode.id,"-").concat(e.dataset.slug))):e.classList.contains("mt-repeater__info")?(e.id="".concat(t.id,"-").concat(e.dataset.slug),e.name="".concat(t.id),e.value="[0]"):e.classList.contains("mt-label")?e.htmlFor="".concat(t.id,"__").concat(e.dataset.slug):(e.id="".concat(t.id,"__").concat(e.dataset.slug),e.name="".concat(t.id,"__").concat(e.dataset.slug)))})),s.querySelector(".mt-repeater")&&t(s);var l,d,u=r.querySelector("#".concat(r.id,"_").concat(c[c.length-1]));d=s,(l=u).parentNode.insertBefore(d,l.nextSibling),c.push(o),a.value=JSON.stringify(c)}t()}();